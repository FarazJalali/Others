      - name: Mirror the Google Sites
        run: |
          rm -rf temp public || true
          mkdir temp
          cd temp
          
          # دانلود سایت با user-agent مرورگر واقعی
          wget --mirror \
               --convert-links \
               --adjust-extension \
               --page-requisites \
               --no-parent \
               --no-host-directories \
               --user-agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36" \
               https://sites.google.com/view/adm-parsianlift/home
          
          # پیدا کردن و استخراج محتوای اصلی از ساختار Google Sites
          if [ -d "view/adm-parsianlift/home" ]; then
            echo "Found nested folder, moving contents to root..."
            mv view/adm-parsianlift/home/* .
            mv view/adm-parsianlift/home/.* . 2>/dev/null || true
            rm -rf view
          else
            echo "No nested 'view' folder found - files should already be in current dir"
          fi
          
          # اگر home.html وجود داشت، به index.html تبدیل کن (GitHub Pages نیاز داره)
          if [ -f "home.html" ]; then
            echo "Renaming home.html to index.html"
            mv home.html index.html
          fi
          
          # اگر index.html نبود و home.html هم نبود، یک fallback ساده بساز
          if [ ! -f "index.html" ]; then
            echo "<h1>No index found - check mirror</h1>" > index.html
          fi
          
          cd ..
          rm -rf public || true
          mv temp public
